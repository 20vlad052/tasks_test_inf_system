# Docker

![Синий Кит](https://static.1cloud.ru/img/blog/516.png)

***Докер*** — это открытая платформа для разработки, доставки и эксплуатации приложений. Docker разработан для более быстрого выкладывания ваших приложений. С помощью docker вы можете отделить ваше приложение от вашей инфраструктуры и обращаться с инфраструктурой как управляемым приложением. Docker помогает выкладывать ваш код быстрее, быстрее тестировать, быстрее выкладывать приложения и уменьшить время между написанием кода и запуска кода. Docker делает это с помощью легковесной платформы контейнерной виртуализации, используя процессы и утилиты, которые помогают управлять и выкладывать ваши приложения.

***Docker-образ*** — это read-only шаблон. Например, образ может содержать операционку Ubuntu c Apache и приложением на ней. Образы используются для создания контейнеров. Docker позволяет легко создавать новые образы, обновлять существующие, или вы можете скачать образы созданные другими людьми. Образы — это компонента сборки docker-а.

## Как работает образ?
Одна из причин, по которой docker легковесен — это использование таких уровней. Когда вы изменяете образ, например, обновляете приложение, создается новый уровень. Так, без замены всего образа или его пересборки, как вам возможно придётся сделать с виртуальной машиной, только уровень добавляется или обновляется. И вам не нужно раздавать весь новый образ, раздается только обновление, что позволяет распространять образы проще и быстрее.
>[!NOTE]
> Docker обычно берет образы из реестра Docker Hub.

## Как работает docker реестр?
***Реестр*** — это хранилище docker образов. После создания образа вы можете опубликовать его на публичном реестре Docker Hub или на вашем личном реестре.
С помощью docker клиента вы можете искать уже опубликованные образы и скачивать их на вашу машину с docker для создания контейнеров.

## Пространство имен(namespaces)
- ***```pid```*** **-  для изоляции процесса;**
- ***```net```*** **-  для управления сетевыми интерфейсами;**
- ***```ipc```*** **-  для управления IPC ресурсами. (ICP: InterProccess Communication);** 
- ***```mnt```*** **-  для управления точками монтирования;**
- ***```utc```*** **-  для изолирования ядра и контроля генерации версий(UTC: Unix timesharing system).**

## Что же происходит под капотом, когда мы запускаем эту команду?
- ***Cкачивает образ ubuntu:*** docker проверяет наличие образа ubuntu на локальной машине, и если его нет — то скачивает его с Docker Hub. Если же образ есть, то использует его для создания контейнера;
- ***Cоздает контейнер:*** когда образ получен, docker использует его для создания контейнера;
- ***Инициализирует файловую систему и монтирует read-only уровень:*** контейнер создан в файловой системе и read-only уровень добавлен образ;
- ***Инициализирует сеть/мост:*** создает сетевой интерфейс, который позволяет docker-у общаться хост машиной;
- ***Установка IP адреса:*** находит и задает адрес;
- ***Запускает указанный процесс:*** запускает ваше приложение;
- ***Обрабатывает и выдает вывод вашего приложения:*** подключается и логирует стандартный вход, вывод и поток ошибок вашего приложения, что бы вы могли отслеживать как работает ваше приложение
